{% extends 'base.html' %}

{% block header %}
  <h2 class="d-flex justify-content-center m-3">{% block title %}Results{% endblock %}</h2>
{% endblock %}

{% block content %}
    {% if score != -1 %}
        <h5 class="d-flex justify-content-center m-3">You answered {{ score }} questions correctly!</h5>
    {% endif %}
    <h3 class="d-flex justify-content-center m-3">Top Attempts For the Day</h3>
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">User</th>
            <th scope="col">Correct Answers</th>
            <th scope="col">Time</th>
        </tr>
        </thead>
        <tbody>
    {% for attempt in top_attempts %}
        <tr>
            <td>{{ attempt['username'] }}</td>
            <td>{{ attempt['score'] }}</td>
            <td>{{ attempt['time_taken'] }}</td>
        </tr>
        </tbody>
    {% endfor %}
    </table>
    <h3 class="d-flex justify-content-center m-3">Recent Attempts</h3>
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">User</th>
            <th scope="col">Correct Answers</th>
            <th scope="col">Time</th>
        </tr>
        </thead>
    {% for attempt in recent_attempts %}
        <tr>
            <td>{{ attempt['username'] }}</td>
            <td>{{ attempt['score'] }}</td>
            <td>{{ attempt['time_taken'] }}</td>
        </tr>
    {% endfor %}
    </table>
{% endblock %}